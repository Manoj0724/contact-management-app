<div class="page-header fade-in">
  <div class="page-title">
    <h1>Add New Contact</h1>
    <p>Fill in the details to create a new contact</p>
  </div>
  <button mat-stroked-button (click)="cancel()" class="btn-icon">
    <mat-icon>arrow_back</mat-icon>
    Back to Contacts
  </button>
</div>

<div class="form-card fade-in">
  <div class="form-header">
    <div>
      <h2>Contact Information</h2>
      <p>All fields marked with * are required</p>
    </div>
    <mat-icon style="color: rgba(255,255,255,0.5); font-size: 48px; width: 48px; height: 48px;">
      person_add
    </mat-icon>
  </div>

  <div class="form-body">
    <form #contactForm="ngForm">

      <!-- PERSONAL INFO SECTION -->
      <div class="section-label">üë§ Personal Information</div>
      <div class="row mb-4">
        <div class="col-md-2 mb-3">
          <mat-form-field appearance="outline">
            <mat-label>Title *</mat-label>
            <mat-select
              name="title"
              [(ngModel)]="form.title"
              required
              #title="ngModel">
              <mat-option value="">Select</mat-option>
              <mat-option value="Mr">Mr</mat-option>
              <mat-option value="Mrs">Mrs</mat-option>
              <mat-option value="Ms">Ms</mat-option>
              <mat-option value="Dr">Dr</mat-option>
            </mat-select>
            <mat-error *ngIf="title.invalid && title.touched">Required</mat-error>
          </mat-form-field>
        </div>

        <div class="col-md-5 mb-3">
          <mat-form-field appearance="outline">
            <mat-label>First Name *</mat-label>
            <input
              matInput
              name="firstName"
              [(ngModel)]="form.firstName"
              required
              pattern="^[a-zA-Z\s]+$"
              #firstName="ngModel"
              placeholder="Enter first name"
            />
            <mat-icon matPrefix>person</mat-icon>
            <mat-error *ngIf="firstName.errors?.['required'] && firstName.touched">
              First name is required
            </mat-error>
            <mat-error *ngIf="firstName.errors?.['pattern'] && firstName.touched">
              Only letters allowed
            </mat-error>
          </mat-form-field>
        </div>

        <div class="col-md-5 mb-3">
          <mat-form-field appearance="outline">
            <mat-label>Last Name *</mat-label>
            <input
              matInput
              name="lastName"
              [(ngModel)]="form.lastName"
              required
              pattern="^[a-zA-Z\s]+$"
              #lastName="ngModel"
              placeholder="Enter last name"
            />
            <mat-error *ngIf="lastName.errors?.['required'] && lastName.touched">
              Last name is required
            </mat-error>
            <mat-error *ngIf="lastName.errors?.['pattern'] && lastName.touched">
              Only letters allowed
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <!-- CONTACT INFO SECTION -->
      <div class="section-label">üì± Contact Details</div>
      <div class="row mb-4">
        <div class="col-md-6 mb-3">
          <mat-form-field appearance="outline">
            <mat-label>Mobile 1 *</mat-label>
            <input
              matInput
              name="mobile1"
              [(ngModel)]="form.mobile1"
              required
              pattern="^[0-9]{10}$"
              maxlength="10"
              #mobile1="ngModel"
              placeholder="10-digit number"
            />
            <mat-icon matPrefix>phone</mat-icon>
            <mat-error *ngIf="mobile1.errors?.['required'] && mobile1.touched">
              Mobile is required
            </mat-error>
            <mat-error *ngIf="mobile1.errors?.['pattern'] && mobile1.touched">
              Must be exactly 10 digits
            </mat-error>
          </mat-form-field>
        </div>

        <div class="col-md-6 mb-3">
          <mat-form-field appearance="outline">
            <mat-label>Mobile 2 (Optional)</mat-label>
            <input
              matInput
              name="mobile2"
              [(ngModel)]="form.mobile2"
              pattern="^[0-9]{10}$"
              maxlength="10"
              #mobile2="ngModel"
              placeholder="10-digit number"
            />
            <mat-icon matPrefix>phone_iphone</mat-icon>
            <mat-error *ngIf="mobile2.errors?.['pattern'] && mobile2.touched">
              Must be exactly 10 digits
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <!-- ADDRESS SECTION -->
      <div class="section-label">üìç Address Details</div>
      <div class="row">
        <div class="col-md-4 mb-3">
          <mat-form-field appearance="outline">
            <mat-label>City *</mat-label>
            <input
              matInput
              name="city"
              [(ngModel)]="form.city"
              required
              pattern="^[a-zA-Z\s]+$"
              #city="ngModel"
              placeholder="Enter city"
            />
            <mat-icon matPrefix>location_city</mat-icon>
            <mat-error *ngIf="city.errors?.['required'] && city.touched">City is required</mat-error>
            <mat-error *ngIf="city.errors?.['pattern'] && city.touched">Only letters allowed</mat-error>
          </mat-form-field>
        </div>

        <div class="col-md-4 mb-3">
          <mat-form-field appearance="outline">
            <mat-label>State *</mat-label>
            <input
              matInput
              name="state"
              [(ngModel)]="form.state"
              required
              pattern="^[a-zA-Z\s]+$"
              #state="ngModel"
              placeholder="Enter state"
            />
            <mat-icon matPrefix>map</mat-icon>
            <mat-error *ngIf="state.errors?.['required'] && state.touched">State is required</mat-error>
            <mat-error *ngIf="state.errors?.['pattern'] && state.touched">Only letters allowed</mat-error>
          </mat-form-field>
        </div>

        <div class="col-md-4 mb-3">
          <mat-form-field appearance="outline">
            <mat-label>Pincode *</mat-label>
            <input
              matInput
              name="pincode"
              [(ngModel)]="form.pincode"
              required
              pattern="^[0-9]{6}$"
              maxlength="6"
              #pincode="ngModel"
              placeholder="6-digit code"
            />
            <mat-icon matPrefix>pin</mat-icon>
            <mat-error *ngIf="pincode.errors?.['required'] && pincode.touched">Pincode is required</mat-error>
            <mat-error *ngIf="pincode.errors?.['pattern'] && pincode.touched">Must be 6 digits</mat-error>
          </mat-form-field>
        </div>
      </div>

    </form>
  </div>

  <div class="form-footer">
    <button mat-stroked-button (click)="cancel()">
      <mat-icon>close</mat-icon>
      Cancel
    </button>
    <button
      mat-raised-button
      color="primary"
      (click)="save()"
      [disabled]="contactForm.invalid"
      class="btn-icon">
      <mat-icon>save</mat-icon>
      Save Contact
    </button>
  </div>
</div>
